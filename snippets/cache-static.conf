# 处理特定静态文件类型的缓存设置
location ~.*\.(js|css|jpg|jpeg|png|gif|svg|webp|ico|woff|woff2|ttf|eot)?$ {
    # 设置缓存过期时间为365天，这意味着客户端浏览器在365天内
    # 如果再次请求相同的静态文件，将直接从本地缓存中读取，而无需再次从服务器获取，
    # 大大提高了网站的加载速度，减轻了服务器的负载。
    expires 365d;

    # 开启sendfile功能，它允许Nginx在处理文件传输时，直接在内核空间将文件数据从磁盘发送到网络，
    # 避免了数据在内核空间和用户空间之间的不必要拷贝，进一步提升了文件传输的效率。
    sendfile on;

    # 启用tcp_nopush指令，当开启sendfile时，tcp_nopush会尝试将多个小的数据包合并成一个大的数据包发送，
    # 减少了网络传输中的数据包数量，降低了网络开销，提高了网络传输的性能。
    tcp_nopush on;

    # 用于记录对这些静态文件的访问情况，方便后续查看分析哪些静态文件被频繁访问等。
    access_log /var/log/nginx/static_files_access.log;

    # 设置最大连接数限制，这里假设设置为1000，即同时最多允许1000个连接来请求这些静态文件，
    # 可以根据服务器的性能和实际需求进行合理调整，防止过多连接导致服务器资源耗尽。
    #limit_conn my_zone 1000;
}